import{t as g,q as u,e as b,w as l,o as V,y as e,f as o,z as y,C as E,bR as k,E as v}from"./index-BtdZa8Qe.js";import{E as w,a as x}from"./el-form-item-Dg5GH0_m.js";import{_ as I,E as U}from"./_plugin-vue_export-helper-CkUarTxb.js";import{E as B}from"./el-input-C-TomgvI.js";import{P as z}from"./PageContainer-YCxXl0ht.js";import{F as C}from"./FormBody-B0cIz5IE.js";import"./el-message-CgnsFL7S.js";const F={class:"button-center"},P={__name:"Profile",setup(S){const i=g(),s=u(!1),a=u({...i.userInfo}),p={nickname:[{required:!0,message:"请输入昵称",trigger:"blur"},{pattern:/^\S{2,10}$/,message:"昵称为2到10个非空字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入有效的邮箱地址",trigger:"blur"}]},d=u();async function f(){try{s.value=!0,await d.value.validate(),await k(a.value),await i.setUserInfo(),s.value=!1,v.success("修改成功")}catch{s.value=!1}}return(q,t)=>{const m=B,n=w,_=U,c=x;return V(),b(z,{title:"基本资料"},{default:l(()=>[e(C,null,{default:l(()=>[e(c,{"label-width":"100px",model:o(a),rules:p,style:{width:"600px"},ref_key:"form",ref:d},{default:l(()=>[e(n,{label:"登录名称",prop:"username"},{default:l(()=>[e(m,{modelValue:o(a).username,"onUpdate:modelValue":t[0]||(t[0]=r=>o(a).username=r),disabled:"",size:"large"},null,8,["modelValue"])]),_:1}),e(n,{label:"用户昵称",prop:"nickname"},{default:l(()=>[e(m,{modelValue:o(a).nickname,"onUpdate:modelValue":t[1]||(t[1]=r=>o(a).nickname=r),size:"large"},null,8,["modelValue"])]),_:1}),e(n,{label:"用户邮箱",prop:"email"},{default:l(()=>[e(m,{modelValue:o(a).email,"onUpdate:modelValue":t[2]||(t[2]=r=>o(a).email=r),size:"large"},null,8,["modelValue"])]),_:1}),e(n,{"label-width":"0"},{default:l(()=>[y("div",F,[e(_,{type:"primary",onClick:f,loading:o(s)},{default:l(()=>t[3]||(t[3]=[E(" 提交修改 ")])),_:1},8,["loading"])])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})}}},$=I(P,[["__scopeId","data-v-dab9644e"]]);export{$ as default};
