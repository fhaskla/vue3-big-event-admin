import{c4 as xe,c1 as we,ba as ae,c5 as Re,b8 as je,b3 as en,b9 as nn,c6 as tn,aD as Le,j as Se,b as $e,aG as an,d as Q,K as Ce,m as on,N as j,c as v,a5 as Ae,bF as sn,av as X,q as B,x as Y,X as ee,aE as Ie,a6 as T,a as Be,c7 as ln,R as rn,u as Ee,ak as un,v as dn,W as cn,o as m,L as C,a4 as h,a8 as ne,n as g,f as o,r as _,z as N,e as E,w as $,h as U,M as A,P as Pe,y as fn,aH as pn,a7 as mn,bB as vn,am as W,g as ze,k as Fe,_ as hn,aA as gn,c8 as yn,c9 as bn,aj as xn,l as wn}from"./index-BtdZa8Qe.js";import{i as Me,k as Sn,l as Cn,c as In,d as En,a as Pn,f as zn,e as ke}from"./_plugin-vue_export-helper-CkUarTxb.js";function Fn(e){return e}function kn(e,a,l){switch(l.length){case 0:return e.call(a);case 1:return e.call(a,l[0]);case 2:return e.call(a,l[0],l[1]);case 3:return e.call(a,l[0],l[1],l[2])}return e.apply(a,l)}var Nn=800,Tn=16,Vn=Date.now;function Rn(e){var a=0,l=0;return function(){var t=Vn(),s=Tn-(t-l);if(l=t,s>0){if(++a>=Nn)return arguments[0]}else a=0;return e.apply(void 0,arguments)}}function Ln(e){return function(){return e}}var $n=xe?function(e,a){return xe(e,"toString",{configurable:!0,enumerable:!1,value:Ln(a),writable:!0})}:Fn,An=Rn($n),Ne=Math.max;function Bn(e,a,l){return a=Ne(a===void 0?e.length-1:a,0),function(){for(var t=arguments,s=-1,u=Ne(t.length-a,0),r=Array(u);++s<u;)r[s]=t[a+s];s=-1;for(var i=Array(a+1);++s<a;)i[s]=t[s];return i[a]=l(r),kn(e,this,i)}}var Te=we?we.isConcatSpreadable:void 0;function Mn(e){return ae(e)||Me(e)||!!(Te&&e&&e[Te])}function On(e,a,l,t,s){var u=-1,r=e.length;for(l||(l=Mn),s||(s=[]);++u<r;){var i=e[u];l(i)?Sn(s,i):s[s.length]=i}return s}function Hn(e){var a=e==null?0:e.length;return a?On(e):[]}function Dn(e){return An(Bn(e,void 0,Hn),e+"")}function vt(){if(!arguments.length)return[];var e=arguments[0];return ae(e)?e:[e]}function Kn(e,a){return e!=null&&a in Object(e)}function _n(e,a,l){a=Re(a,e);for(var t=-1,s=a.length,u=!1;++t<s;){var r=je(a[t]);if(!(u=e!=null&&l(e,r)))break;e=e[r]}return u||++t!=s?u:(s=e==null?0:e.length,!!s&&Cn(s)&&en(r,s)&&(ae(e)||Me(e)))}function Un(e,a){return e!=null&&_n(e,a,Kn)}function Wn(e,a,l){for(var t=-1,s=a.length,u={};++t<s;){var r=a[t],i=nn(e,r);l(i,r)&&tn(u,Re(r,e),i)}return u}function Xn(e,a){return Wn(e,a,function(l,t){return Un(e,t)})}var Yn=Dn(function(e,a){return e==null?{}:Xn(e,a)});const te="update:modelValue",ht="change",Gn=()=>Le&&/firefox/i.test(window.navigator.userAgent);let S;const qn=`
  height:0 !important;
  visibility:hidden !important;
  ${Gn()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Zn=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Jn(e){const a=window.getComputedStyle(e),l=a.getPropertyValue("box-sizing"),t=Number.parseFloat(a.getPropertyValue("padding-bottom"))+Number.parseFloat(a.getPropertyValue("padding-top")),s=Number.parseFloat(a.getPropertyValue("border-bottom-width"))+Number.parseFloat(a.getPropertyValue("border-top-width"));return{contextStyle:Zn.map(r=>`${r}:${a.getPropertyValue(r)}`).join(";"),paddingSize:t,borderSize:s,boxSizing:l}}function Ve(e,a=1,l){var t;S||(S=document.createElement("textarea"),document.body.appendChild(S));const{paddingSize:s,borderSize:u,boxSizing:r,contextStyle:i}=Jn(e);S.setAttribute("style",`${i};${qn}`),S.value=e.value||e.placeholder||"";let c=S.scrollHeight;const b={};r==="border-box"?c=c+u:r==="content-box"&&(c=c-s),S.value="";const p=S.scrollHeight-s;if(Se(a)){let w=p*a;r==="border-box"&&(w=w+s+u),c=Math.max(w,c),b.minHeight=`${w}px`}if(Se(l)){let w=p*l;r==="border-box"&&(w=w+s+u),c=Math.min(w,c)}return b.height=`${c}px`,(t=S.parentNode)==null||t.removeChild(S),S=void 0,b}const Qn=$e({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),jn=e=>Yn(Qn,e),et=$e({id:{type:String,default:void 0},size:an,disabled:Boolean,modelValue:{type:Q([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Q([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Ce},prefixIcon:{type:Ce},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Q([Object,Array,String]),default:()=>on({})},autofocus:Boolean,rows:{type:Number,default:2},...jn(["ariaLabel"])}),nt={[te]:e=>j(e),input:e=>j(e),change:e=>j(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},tt=["class","style"],at=/^on[A-Z]/,ot=(e={})=>{const{excludeListeners:a=!1,excludeKeys:l}=e,t=v(()=>((l==null?void 0:l.value)||[]).concat(tt)),s=Ae();return s?v(()=>{var u;return sn(Object.entries((u=s.proxy)==null?void 0:u.$attrs).filter(([r])=>!t.value.includes(r)&&!(a&&at.test(r))))}):v(()=>({}))};function st(e,{beforeFocus:a,afterFocus:l,beforeBlur:t,afterBlur:s}={}){const u=Ae(),{emit:r}=u,i=X(),c=B(!1),b=y=>{Ie(a)&&a(y)||c.value||(c.value=!0,r("focus",y),l==null||l())},p=y=>{var x;Ie(t)&&t(y)||y.relatedTarget&&((x=i.value)!=null&&x.contains(y.relatedTarget))||(c.value=!1,r("blur",y),s==null||s())},w=()=>{var y,x;(y=i.value)!=null&&y.contains(document.activeElement)&&i.value!==document.activeElement||(x=e.value)==null||x.focus()};return Y(i,y=>{y&&y.setAttribute("tabindex","-1")}),ee(i,"focus",b,!0),ee(i,"blur",p,!0),ee(i,"click",w,!0),{isFocused:c,wrapperRef:i,handleFocus:b,handleBlur:p}}const lt=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function rt({afterComposition:e,emit:a}){const l=B(!1),t=i=>{a==null||a("compositionstart",i),l.value=!0},s=i=>{var c;a==null||a("compositionupdate",i);const b=(c=i.target)==null?void 0:c.value,p=b[b.length-1]||"";l.value=!lt(p)},u=i=>{a==null||a("compositionend",i),l.value&&(l.value=!1,T(()=>e(i)))};return{isComposing:l,handleComposition:i=>{i.type==="compositionend"?u(i):s(i)},handleCompositionStart:t,handleCompositionUpdate:s,handleCompositionEnd:u}}function it(e){let a;function l(){if(e.value==null)return;const{selectionStart:s,selectionEnd:u,value:r}=e.value;if(s==null||u==null)return;const i=r.slice(0,Math.max(0,s)),c=r.slice(Math.max(0,u));a={selectionStart:s,selectionEnd:u,value:r,beforeTxt:i,afterTxt:c}}function t(){if(e.value==null||a==null)return;const{value:s}=e.value,{beforeTxt:u,afterTxt:r,selectionStart:i}=a;if(u==null||r==null||i==null)return;let c=s.length;if(s.endsWith(r))c=s.length-r.length;else if(s.startsWith(u))c=u.length;else{const b=u[i-1],p=s.indexOf(b,i-1);p!==-1&&(c=p+1)}e.value.setSelectionRange(c,c)}return[l,t]}const ut=Be({name:"ElInput",inheritAttrs:!1}),dt=Be({...ut,props:et,emits:nt,setup(e,{expose:a,emit:l}){const t=e,s=ln(),u=ot(),r=rn(),i=v(()=>[t.type==="textarea"?oe.b():d.b(),d.m(y.value),d.is("disabled",x.value),d.is("exceed",Ue.value),{[d.b("group")]:r.prepend||r.append,[d.m("prefix")]:r.prefix||t.prefixIcon,[d.m("suffix")]:r.suffix||t.suffixIcon||t.clearable||t.showPassword,[d.bm("suffix","password-clear")]:K.value&&q.value,[d.b("hidden")]:t.type==="hidden"},s.class]),c=v(()=>[d.e("wrapper"),d.is("focus",D.value)]),{form:b,formItem:p}=In(),{inputId:w}=En(t,{formItemContext:p}),y=Pn(),x=zn(),d=Ee("input"),oe=Ee("textarea"),M=X(),I=X(),G=B(!1),O=B(!1),se=B(),H=X(t.inputStyle),z=v(()=>M.value||I.value),{wrapperRef:Oe,isFocused:D,handleFocus:He,handleBlur:De}=st(z,{beforeFocus(){return x.value},afterBlur(){var n;t.validateEvent&&((n=p==null?void 0:p.validate)==null||n.call(p,"blur").catch(f=>ke()))}}),le=v(()=>{var n;return(n=b==null?void 0:b.statusIcon)!=null?n:!1}),V=v(()=>(p==null?void 0:p.validateState)||""),re=v(()=>V.value&&gn[V.value]),Ke=v(()=>O.value?yn:bn),_e=v(()=>[s.style]),ie=v(()=>[t.inputStyle,H.value,{resize:t.resize}]),P=v(()=>xn(t.modelValue)?"":String(t.modelValue)),K=v(()=>t.clearable&&!x.value&&!t.readonly&&!!P.value&&(D.value||G.value)),q=v(()=>t.showPassword&&!x.value&&!!P.value&&(!!P.value||D.value)),F=v(()=>t.showWordLimit&&!!t.maxlength&&(t.type==="text"||t.type==="textarea")&&!x.value&&!t.readonly&&!t.showPassword),Z=v(()=>P.value.length),Ue=v(()=>!!F.value&&Z.value>Number(t.maxlength)),We=v(()=>!!r.suffix||!!t.suffixIcon||K.value||t.showPassword||F.value||!!V.value&&le.value),[ue,de]=it(M);un(I,n=>{if(Xe(),!F.value||t.resize!=="both")return;const f=n[0],{width:k}=f.contentRect;se.value={right:`calc(100% - ${k+15+6}px)`}});const R=()=>{const{type:n,autosize:f}=t;if(!(!Le||n!=="textarea"||!I.value))if(f){const k=Fe(f)?f.minRows:void 0,ye=Fe(f)?f.maxRows:void 0,be=Ve(I.value,k,ye);H.value={overflowY:"hidden",...be},T(()=>{I.value.offsetHeight,H.value=be})}else H.value={minHeight:Ve(I.value).minHeight}},Xe=(n=>{let f=!1;return()=>{var k;if(f||!t.autosize)return;((k=I.value)==null?void 0:k.offsetParent)===null||(n(),f=!0)}})(R),L=()=>{const n=z.value,f=t.formatter?t.formatter(P.value):P.value;!n||n.value===f||(n.value=f)},J=async n=>{ue();let{value:f}=n.target;if(t.formatter&&(f=t.parser?t.parser(f):f),!fe.value){if(f===P.value){L();return}l(te,f),l("input",f),await T(),L(),de()}},ce=n=>{l("change",n.target.value)},{isComposing:fe,handleCompositionStart:pe,handleCompositionUpdate:me,handleCompositionEnd:ve}=rt({emit:l,afterComposition:J}),Ye=()=>{ue(),O.value=!O.value,setTimeout(de)},Ge=()=>{var n;return(n=z.value)==null?void 0:n.focus()},qe=()=>{var n;return(n=z.value)==null?void 0:n.blur()},Ze=n=>{G.value=!1,l("mouseleave",n)},Je=n=>{G.value=!0,l("mouseenter",n)},he=n=>{l("keydown",n)},Qe=()=>{var n;(n=z.value)==null||n.select()},ge=()=>{l(te,""),l("change",""),l("clear"),l("input","")};return Y(()=>t.modelValue,()=>{var n;T(()=>R()),t.validateEvent&&((n=p==null?void 0:p.validate)==null||n.call(p,"change").catch(f=>ke()))}),Y(P,()=>L()),Y(()=>t.type,async()=>{await T(),L(),R()}),dn(()=>{!t.formatter&&t.parser,L(),T(R)}),a({input:M,textarea:I,ref:z,textareaStyle:ie,autosize:cn(t,"autosize"),isComposing:fe,focus:Ge,blur:qe,select:Qe,clear:ge,resizeTextarea:R}),(n,f)=>(m(),C("div",{class:g([o(i),{[o(d).bm("group","append")]:n.$slots.append,[o(d).bm("group","prepend")]:n.$slots.prepend}]),style:ze(o(_e)),onMouseenter:Je,onMouseleave:Ze},[h(" input "),n.type!=="textarea"?(m(),C(ne,{key:0},[h(" prepend slot "),n.$slots.prepend?(m(),C("div",{key:0,class:g(o(d).be("group","prepend"))},[_(n.$slots,"prepend")],2)):h("v-if",!0),N("div",{ref_key:"wrapperRef",ref:Oe,class:g(o(c))},[h(" prefix slot "),n.$slots.prefix||n.prefixIcon?(m(),C("span",{key:0,class:g(o(d).e("prefix"))},[N("span",{class:g(o(d).e("prefix-inner"))},[_(n.$slots,"prefix"),n.prefixIcon?(m(),E(o(A),{key:0,class:g(o(d).e("icon"))},{default:$(()=>[(m(),E(U(n.prefixIcon)))]),_:1},8,["class"])):h("v-if",!0)],2)],2)):h("v-if",!0),N("input",Pe({id:o(w),ref_key:"input",ref:M,class:o(d).e("inner")},o(u),{minlength:n.minlength,maxlength:n.maxlength,type:n.showPassword?O.value?"text":"password":n.type,disabled:o(x),readonly:n.readonly,autocomplete:n.autocomplete,tabindex:n.tabindex,"aria-label":n.ariaLabel,placeholder:n.placeholder,style:n.inputStyle,form:n.form,autofocus:n.autofocus,role:n.containerRole,onCompositionstart:o(pe),onCompositionupdate:o(me),onCompositionend:o(ve),onInput:J,onChange:ce,onKeydown:he}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),h(" suffix slot "),o(We)?(m(),C("span",{key:1,class:g(o(d).e("suffix"))},[N("span",{class:g(o(d).e("suffix-inner"))},[!o(K)||!o(q)||!o(F)?(m(),C(ne,{key:0},[_(n.$slots,"suffix"),n.suffixIcon?(m(),E(o(A),{key:0,class:g(o(d).e("icon"))},{default:$(()=>[(m(),E(U(n.suffixIcon)))]),_:1},8,["class"])):h("v-if",!0)],64)):h("v-if",!0),o(K)?(m(),E(o(A),{key:1,class:g([o(d).e("icon"),o(d).e("clear")]),onMousedown:mn(o(vn),["prevent"]),onClick:ge},{default:$(()=>[fn(o(pn))]),_:1},8,["class","onMousedown"])):h("v-if",!0),o(q)?(m(),E(o(A),{key:2,class:g([o(d).e("icon"),o(d).e("password")]),onClick:Ye},{default:$(()=>[(m(),E(U(o(Ke))))]),_:1},8,["class"])):h("v-if",!0),o(F)?(m(),C("span",{key:3,class:g(o(d).e("count"))},[N("span",{class:g(o(d).e("count-inner"))},W(o(Z))+" / "+W(n.maxlength),3)],2)):h("v-if",!0),o(V)&&o(re)&&o(le)?(m(),E(o(A),{key:4,class:g([o(d).e("icon"),o(d).e("validateIcon"),o(d).is("loading",o(V)==="validating")])},{default:$(()=>[(m(),E(U(o(re))))]),_:1},8,["class"])):h("v-if",!0)],2)],2)):h("v-if",!0)],2),h(" append slot "),n.$slots.append?(m(),C("div",{key:1,class:g(o(d).be("group","append"))},[_(n.$slots,"append")],2)):h("v-if",!0)],64)):(m(),C(ne,{key:1},[h(" textarea "),N("textarea",Pe({id:o(w),ref_key:"textarea",ref:I,class:[o(oe).e("inner"),o(d).is("focus",o(D))]},o(u),{minlength:n.minlength,maxlength:n.maxlength,tabindex:n.tabindex,disabled:o(x),readonly:n.readonly,autocomplete:n.autocomplete,style:o(ie),"aria-label":n.ariaLabel,placeholder:n.placeholder,form:n.form,autofocus:n.autofocus,rows:n.rows,role:n.containerRole,onCompositionstart:o(pe),onCompositionupdate:o(me),onCompositionend:o(ve),onInput:J,onFocus:o(He),onBlur:o(De),onChange:ce,onKeydown:he}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),o(F)?(m(),C("span",{key:0,style:ze(se.value),class:g(o(d).e("count"))},W(o(Z))+" / "+W(n.maxlength),7)):h("v-if",!0)],64))],38))}});var ct=hn(dt,[["__file","input.vue"]]);const gt=wn(ct);export{ht as C,gt as E,te as U,st as a,jn as b,vt as c,On as d,Un as h,Fn as i,Bn as o,Yn as p,An as s,rt as u};
